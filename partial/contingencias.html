<div class="container-fluid">
    <div class="row">
        <div class="col-md-9">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <b><i class="fa fa-bars" aria-hidden="true"></i> Formulario Contingencias aprovisionamiento</b>
                    <ul class="nav navbar-nav navbar-right" ng-show="pedidoexiste">
                        <span class="label label-warning">{{mensaje}}</span>
                    </ul>
                    <ul class="nav navbar-nav navbar-right" ng-show="pedidoguardado">
                        <span class="label label-success">{{mensaje}}</span>
                    </ul>
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-sm-4 col-md-3">
                            <div class="input-group">
                                <input type="text" class="form-control input-sm" placeholder="Completar datos pedido?" ng-model="tareaAutocomplete">
                                <span class="input-group-btn">
                                <button class="btn btn-info btn-sm" type="button" ng-click="autoCompletaTarea(tareaAutocomplete)">Completar</button>
                              </span>
                            </div>
                        </div>
                    </div>
                    <br>
                    <form action=" " method="post" name="contact_form1" id="contact_form1">
                        <div class="row">
                            <div class="col-md-3">

                                <!--<div class="form-group" ng-class="{'has-error' : contact_form1.pedido.$touched && contact_form1.pedido.$invalid}">
                                    <label for="pedido">Pedido</label>
                                    <input type="text" class="form-control input-sm" id="pedido" name="pedido" placeholder="pedido" ng-model="contingencias.pedido">
                                </div>-->
                                <div class="form-group" ng-class="{'has-error' : contact_form1.tarea.$touched && contact_form1.tarea.$invalid}">
                                    <label for="tarea">Tarea</label>
                                    <input type="text" class="form-control input-sm" id="tarea" name="tarea" placeholder="tarea" ng-model="contingencias.tarea">
                                </div>


                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.accion.$touched && contact_form1.producto.$invalid}">
                                    <label for="Producto">Producto</label>
                                    <select class="form-control input-sm" name="Producto" id="Producto"
                                            ng-model="contingencias.producto" required>
                                        <option value="" selected>Seleccione</option>
                                        <option ng-repeat="f in producto" value="{{f.id}}">
                                            {{f.producto}}
                                        </option>
                                        <!--<option value="" disabled>Seleccione</option>
                                        <option value="TV">TV</option>
                                        <option value="INTER">Internet</option>-->
                                    </select>

                                </div>

                                <div class="form-group">
                                    <label for="contrato">identificador de servicio</label>
                                    <input class="form-control input-sm" placeholder="Contrato o Id"
                                           type="text" ng-model="contingencias.contrato" name="contrato" id="contrato">
                                </div>

                                <div class="form-group">
                                    <label for="perfil">Perfil, Plan o Equipment ID</label>
                                    <input class="form-control input-sm" placeholder="Perfil, plan" type="text"
                                           ng-model="contingencias.perfil" name="perfil" id="perfil">
                                </div>
                            </div>


                            <div class="col-md-3">
                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.uen.$touched && contact_form1.uen.$invalid}">
                                    <label for="uen">UEN</label>
                                    <select class="form-control input-sm" name="uen"
                                            ng-model="contingencias.uen" id="uen" required>
                                        <option value="" disabled>Seleccione</option>
                                        <option value="Hogares">Hogares</option>
                                        <option value="HOGARES">HOGARES</option>
                                        <option value="HG">HG</option>
                                        <option value="PYMES">PYMES</option>
                                        <option value="C3">C3</option>
                                        <option value="B2B">B2B</option>
                                    </select>
                                </div>

                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.proceso.$touched && contact_form1.proceso.$invalid}">
                                    <label for="proceso">Proceso</label>
                                    <select class="form-control input-sm" name="proceso" id="proceso"
                                            ng-model="contingencias.proceso" required>
                                        <option value="" disabled>Seleccione</option>
                                        <option value="Instalación">Instalación</option>
                                        <option value="Reparacion">Reparación</option>
                                    </select>
                                </div>

                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.tecnologia.$touched && contact_form1.tecnologia.$invalid}">
                                    <label for="tecnologia">Tecnología</label>
                                    <select class="form-control input-sm" name="tecnologia" id="tecnologia"
                                            ng-model="contingencias.tecnologia" required>
                                        <option value="">Seleccione</option>
                                        <option value="HFC">HFC</option>
                                        <option value="GPON">GPON</option>
                                        <option value="Cobre">Cobre</option>
                                        <option value="DTH">DTH</option>
                                        <option value="REDCO">REDCO</option>
                                    </select>
                                </div>


                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.accion.$touched && contact_form1.accion.$invalid}">
                                    <label for="accion">Acción a ejecutar:</label>
                                    <select class="form-control input-sm" name="accion" id="accion"
                                            ng-model="contingencias.accion">
                                        <option value="" selected>Seleccione</option>
                                        <option value="Contingencia"
                                                ng-show="(contingencias.producto == 'TV' || contingencias.producto == 'Internet' || contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP') && (contingencias.tecnologia == 'HFC' || contingencias.tecnologia == 'GPON' || (contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'REDCO') )">
                                            Aprov. Contingencia
                                        </option>
                                        <option value="Refresh"
                                                ng-show="(contingencias.producto == 'TV') && (contingencias.tecnologia == 'HFC' || contingencias.tecnologia == 'GPON' || contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'REDCO')">
                                            Refresh
                                        </option>
                                        <option value="Cambio de equipo"
                                                ng-show="(contingencias.producto == 'TV' || contingencias.producto == 'Internet' || contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP') && (contingencias.tecnologia == 'HFC' || contingencias.tecnologia == 'GPON' || contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'REDCO')">
                                            Cambio de equipo
                                        </option>
                                        <option value="mesaOffline"
                                                ng-show="(contingencias.producto == 'TV' || contingencias.producto == 'Internet' || contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP') && (contingencias.tecnologia == 'HFC' || contingencias.tecnologia == 'GPON' || contingencias.tecnologia == 'DTH' || contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'REDCO')">
                                            Mesa Offline
                                        </option>
                                        <option value="Corregir portafolio"
                                                ng-show="contingencias.producto == 'Internet' || contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP'">
                                            Corregir Portafolio-Inventario
                                        </option>
                                        <option value="Crear Espacio" ng-show="(contingencias.producto == 'TV') && (contingencias.tecnologia == 'DTH')">Crear Espacio</option>
                                        <option value="crear cliente" ng-show="(contingencias.producto == 'TV') && (contingencias.tecnologia == 'DTH')">Crear Cliente</option>
                                        <option value="Cambio EID" ng-show="contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP'">Cambio EID</option>
                                        <option value="Registros ToIP" ng-show="contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP'">Registros ToIP
                                        </option>
                                        <option value="OC Telefonia" ng-show="contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP'">OC Telefonía</option>
                                        <option value="Crear Linea IMS" ng-show="contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP'">Crear Línea IMS
                                        </option>
                                    </select>
                                </div>

                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.motivo.$touched && contact_form1.motivo.$invalid}" ng-show="contingencias.accion != 'mesaOffline'">
                                    <label for="motivo">Motivo:</label>
                                    <select class="form-control input-sm" name="motivo" id="motivo"
                                            ng-model="contingencias.motivo" required>
                                        <option value="" selected>Seleccione</option>
                                        <option value="Plataforma NCA caída">Plataforma NCA caída</option>
                                        <option value="Errores de sistemas">Errores de sistemas</option>
                                        <option value="Error Tecnico/Despacho">Error Técnico/Despacho</option>
                                       <!-- <option value="Políticas erradas">Políticas erradas</option>-->
                                        <option value="Envió registros">Envió registros</option>
                                        <option value="Plataforma SMNET caída">Plataforma SMNET caída</option>
                                    </select>
                                </div>

                            </div>

                            <div class="col-md-3">
                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.tipoEquipo.$touched && contact_form1.tipoEquipo.$invalid}"
                                     ng-show="contingencias.accion != 'mesaOffline'">
                                    <label for="tipoEquipo">Tipo Equipo:</label>
                                    <select class="form-control input-sm" name="tipoEquipo" id="tipoEquipo"
                                            ng-model="contingencias.tipoEquipo" required>
                                        <option value="" selected>Seleccione</option>
                                        <option value="Cisco e Irdeto (TV Digital)" ng-show="contingencias.producto == 'TV' && contingencias.tecnologia == 'HFC' ">Cisco e Irdeto
                                            (TV
                                            Digital)
                                        </option>
                                        <option value="DTA-ZAPPER-DVR (OneTV)" ng-show="contingencias.producto == 'TV' && contingencias.tecnologia == 'HFC' ">DTA-ZAPPER-DVR (OneTV)
                                        </option>
                                        <option value="Gateway y Minis (OneTV Elite)" ng-show="contingencias.producto == 'TV' && contingencias.tecnologia == 'HFC' ">Gateway y Minis
                                            (OneTVElite)
                                        </option>
                                        <option value="ANDROID y DTA (OneTV 2.0)" ng-show="contingencias.producto == 'TV' && contingencias.tecnologia == 'HFC' ">ANDROID y DTA
                                            (OneTV
                                            2.0)
                                        </option>
                                        <option value="Sagem"
                                                ng-show="contingencias.producto == 'TV' && (contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'GPON' || contingencias.tecnologia == 'REDCO') ">
                                            Sagem
                                        </option>
                                        <option value="Coship"
                                                ng-show="contingencias.producto == 'TV' && (contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'GPON' || contingencias.tecnologia == 'REDCO')">
                                            Coship
                                        </option>
                                        <option value="ANDROID y DTA (OneTV 2.0)"
                                                ng-show="contingencias.producto == 'TV' && (contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'GPON' || contingencias.tecnologia == 'REDCO')">ANDROID y DTA
                                            (OneTV 2.0)
                                        </option>
                                        <option value="Arion" ng-show="contingencias.producto == 'TV' && contingencias.tecnologia == 'DTH' ">Arion</option>
                                        <option value="Handan" ng-show="contingencias.producto == 'TV' && contingencias.tecnologia == 'DTH' ">Handan</option>
                                        <option value="Kaon" ng-show="contingencias.producto == 'TV' && contingencias.tecnologia == 'DTH' ">kaon</option>
                                        <option value="CM"
                                                ng-show="(contingencias.producto == 'Internet' || contingencias.producto == 'INTER' || contingencias.producto == 'Internet+ToIP' || contingencias.producto == 'ToIP') && contingencias.tecnologia == 'HFC' ">
                                            CM
                                        </option>
                                        <option value="CM MTA"
                                                ng-show="contingencias.tecnologia == 'HFC' && (contingencias.producto == 'Internet+ToIP' || contingencias.producto == 'ToIP')">CM
                                            MTA
                                        </option>
                                        <option value="CPE"
                                                ng-show="(contingencias.tecnologia == 'Cobre' || contingencias.tecnologia == 'REDCO') && (contingencias.producto == 'Internet' || contingencias.producto == 'ToIP' || contingencias.producto == 'Internet+ToIP')">
                                            CPE
                                        </option>
                                    </select>
                                </div>

                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.ciudad.$touched && contact_form1.ciudad.$invalid}">
                                    <label for="ciudad">Ciudad:</label>
                                    <select ng-model="contingencias.ciudad" name="ciudad" id="ciudad"
                                            class="form-control input-sm" required>
                                        <option value="" selected>Seleccione</option>
                                        <option ng-repeat="f in ciudadesCont" value="{{f.ciudad}}">
                                            {{f.ciudad}}
                                        </option>
                                    </select>
                                </div>


                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.macEntra.$touched && contact_form1.macEntra.$invalid}"
                                     ng-if="(contingencias.accion == 'Contingencia' || contingencias.accion == 'Cambio de equipo'|| contingencias.accion == 'Corregir portafolio' || contingencias.accion == 'Registros ToIP' || contingencias.accion == 'Refresh'|| contingencias.accion == 'crear cliente' || contingencias.accion == 'Crear Espacio')">
                                    <label for="macEntra">MAC entra:</label>
                                    <button class="buttonMac" ng-click="addEquipoEntra()">Nuevo Equipo</button>
                                    <div ng-repeat="item in equiposEntran">
                                        <input name="macEntra{{ $index }}" type="text" ng-model="item.value" id="macEntra"
                                               placeholder="Mac entra" class="form-control input-sm" required
                                               ng-pattern="/^([a-zA-Z0-9]){1,18}$/" ng-trim="false">
                                        <p class="help-block"
                                           ng-show="contact_form1.macEntra{{ $index }}.$error.required">Este
                                            campo es requerido</p>
                                        <p style="color:red;" class="help-block"
                                           ng-show="contact_form1.macEntra{{ $index }}.$touched && contact_form1.macEntra{{ $index }}.$invalid">
                                            La MAC no es válida</p>
                                    </div>
                                </div>

                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.macSale.$touched && contact_form1.macSale.$invalid}"
                                     ng-if="contingencias.accion == 'Cambio de equipo'">
                                    <label for="macSale">MAC Sale:</label>
                                    <button class="buttonMac" ng-click="addEquipoSale()">Nuevo Equipo</button>
                                    <div ng-repeat="item in equiposSalen">
                                        <input name="macSale{{ $index }}" type="text" ng-model="item.value"
                                               placeholder="Mac Sale" id="macSale" class="form-control input-sm"
                                               ng-pattern="/^([a-zA-Z0-9]){1,18}$/" ng-trim="false">
                                        <p class="help-block"
                                           ng-show="contact_form1.macSale{{ $index }}.$error.required">Este
                                            campo es requerido</p>
                                        <p style="color:red;" class="help-block"
                                           ng-show="contact_form1.macSale{{ $index }}.$touched && contact_form1.macSale{{ $index }}.$invalid">
                                            La MAC no es válida</p>
                                    </div>
                                    <input type="hidden" ng-model="contingencias.uneSourceSystem">
                                    <!--<input type="hidden" ng-model="contingencias.tarea">-->
                                </div>

                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.paquetes.$touched && contact_form1.paquetes.$invalid}"
                                     ng-if="(contingencias.accion == 'Contingencia' || contingencias.accion == 'Cambio de equipo' || contingencias.accion == 'Registros ToIP' || contingencias.accion == 'Refresh' || contingencias.accion == 'crear cliente' || contingencias.accion == 'Crear Espacio')">
                                    <label for="paquetes">Paquetes a aprovisionar</label>
                                    <select style="width:100%" multiple
                                            class="form-control input-sm" ui-select2="groupSetup"
                                            name="paquetes" ng-model="contingencias.paquetes" id="paquetes"
                                            data-placeholder="Seleccione los paquetes...">
                                        <option ng-repeat="group1 in paquetescontingencias"
                                                value="{{group1.CONCEPTO}}">{{group1.CONCEPTO}}
                                        </option>
                                    </select>
                                </div>

                                <!--<div class="form-group" ng-show="contingencias.producto == 'Internet+ToIP' || contingencias.producto == 'ToIP'">
                                    <label for="lineatoip">Número de la Línea:</label>
                                    <input class="form-control input-sm" placeholder="Línea TOIP" type="text"
                                           ng-model="contingencias.linea" name="lineatoip" id="lineatoip">
                                </div>-->
                            </div>

                            <div class="col-md-3">
                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.remite.$touched && contact_form1.remite.$invalid}">
                                    <label for="remite">Remitente:</label>
                                    <select class="form-control input-sm" name="remite" id="remite"
                                            ng-model="contingencias.remite" required>
                                        <option value="" disabled>Seleccione</option>
                                        <option value="Despacho">Despacho</option>
                                        <option value="Gestión contact center">Gestión contact center</option>
                                        <option value="Grupo Soporte AAA">Grupo Soporte AAA</option>
                                        <option value="Despacho ETP">Despacho ETP</option>
                                        <option value="Despacho Edatel">Despacho Edatel</option>
                                    </select>
                                </div>

                                <div class="form-group"
                                     ng-class="{'has-error' : contact_form1.observacion.$touched && contact_form1.observacion.$invalid}">
                                    <label for="observacion">Observación:</label>
                                    <textarea name="observacion" class="form-control input-sm" cols="40" rows="6" id="observacion"
                                              ng-model="contingencias.observacion" required></textarea>
                                </div>


                                <button type="button"
                                        class="btn btn-info btn-sm btn-block" ng-click="guardaContingencia(contingencias)">
                                    Guardar gestión <i class="fa fa-floppy-o" aria-hidden="true"> </i>
                                </button>&nbsp;&nbsp;

                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="row">
                <div class="col-md-12 col-xs-12">
                    <div class="panel panel-default">
                        <div class="panel-heading nav navbar-default">
                            <b> Buscar histórico de la tarea:</b>
                        </div>
                        <div class="panel-heading nav navbar-default">
                            <div class="col-sm-12">
                                <div class="input-group">
                                    <input type="text" class="form-control input-sm" placeholder="tarea..." ng-model="tareaDetalle">
                                    <span class="input-group-btn">
                                        <button class="btn btn-default btn-sm" type="button" ng-click="detalleTarea(tareaDetalle)">
                                            <i class="fa fa-search" aria-hidden="true"></i></button>
                                      </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modalHistoricoContingencias" class="modal fullscreen-modal fade" role="dialog">
            <div class="modal-dialog modal-lg">

                <!-- Modal content-->
                <div class="modal-content" style="overflow-x: scroll">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                        <h4 class="modal-title">Histórico del pedido en contingencias</h4>
                    </div>
                    <div class="modal-body">
                        <div class="panel panel-default">
                            <div class="panel-heading nav navbar-default">
                                <table class="table small table-striped table-hover table-condensed table-bordered">
                                    <thead class="table-header">
                                    <tr>
                                        <th>
                                            Pedido
                                        </th>
                                        <th>
                                            Acción
                                        </th>
                                        <th>
                                            Ciudad
                                        </th>
                                        <th>
                                            Mac Entra
                                        </th>
                                        <th>
                                            Mac Sale
                                        </th>
                                        <th>
                                            Paquetes
                                        </th>
                                        <th>
                                            Motivo
                                        </th>
                                        <th>
                                            Proceso
                                        </th>
                                        <th>
                                            Producto
                                        </th>
                                        <th>
                                            Contrato
                                        </th>
                                        <th>
                                            Perfil
                                        </th>
                                        <th>
                                            Hora ingreso
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="data in databsucarPedido">
                                        <td>
                                            {{data.pedido}}
                                        </td>
                                        <td>
                                            {{data.accion}}
                                        </td>
                                        <td>
                                            {{data.ciudad}}
                                        </td>
                                        <td>
                                            {{data.macEntra}}
                                        </td>
                                        <td>
                                            {{data.macSale}}
                                        </td>
                                        <td>
                                            {{data.paquetes}}
                                        </td>
                                        <td>
                                            {{data.motivo}}
                                        </td>
                                        <td>
                                            {{data.proceso}}
                                        </td>
                                        <td>
                                            {{data.producto}}
                                        </td>
                                        <td>
                                            {{data.contrato}}
                                        </td>
                                        <td>
                                            {{data.perfil}}
                                        </td>
                                        <td>
                                            {{data.horagestion}}
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                                <table class="table small table-striped table-hover table-condensed table-bordered">
                                    <thead class="table-header">
                                    <tr>
                                        <th>
                                            Login Despacho
                                        </th>
                                        <th>
                                            Login Contingencia Corregir Portatafolio
                                        </th>
                                        <th>
                                            Hora Contingencia Corregir Portatafolio
                                        </th>
                                        <th>
                                            Tipo equipo
                                        </th>
                                        <th>
                                            Tecnología
                                        </th>
                                        <th>
                                            Remitente
                                        </th>
                                        <th>
                                            Tipificación Contingencia
                                        </th>
                                        <th>
                                            Tipificación Corregir Portafolio
                                        </th>
                                        <th>
                                            Estado
                                        </th>
                                        <th>
                                            Hora de respuesta
                                        </th>
                                        <th>
                                            Estado Corregir Portafolio
                                        </th>
                                        <th>
                                            Observaciones
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr ng-repeat="data in databsucarPedido">

                                        <td>
                                            {{data.logindepacho}}
                                        </td>
                                        <td>
                                            {{data.loginContingenciaPortafolio}}
                                        </td>
                                        <td>
                                            {{data.horaContingenciaPortafolio}}
                                        </td>
                                        <td>
                                            {{data.tipoEquipo}}
                                        </td>
                                        <td>
                                            {{data.tecnologia}}
                                        </td>
                                        <td>
                                            {{data.remite}}
                                        </td>
                                        <td>
                                            {{data.tipificacion}}
                                        </td>
                                        <td>
                                            {{data.tipificacionPortafolio}}
                                        </td>
                                        <td>
                                            {{data.acepta}}
                                        </td>
                                        <td>
                                            {{data.horacontingencia}}
                                        </td>
                                        <td>
                                            {{data.aceptaPortafolio}}
                                        </td>
                                        <td class="icons_in_tables">

                                            <button popover-placement="left" uib-popover="{{data.observacion}}"
                                                    popover-title="Observación gestión" type="button"
                                                    class="btn btn-default btn-xs">
                                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                            </button>

                                            <button popover-placement="left"
                                                    uib-popover="{{data.observContingencia}}"
                                                    popover-title="Observación ingreso" type="button"
                                                    class="btn btn-default btn-xs">
                                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                            </button>

                                            <button popover-placement="left"
                                                    uib-popover="{{data.observContingenciaPortafolio}}"
                                                    popover-title="Observación gestión Corregir Portafolio"
                                                    type="button" class="btn btn-default btn-xs">
                                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" ng-disabled="contact_form.$invalid" class="btn btn-default"
                                data-dismiss="modal">Cerrar
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-3">
            <div class="row">
                <div class="col-md-12 col-xs-12">
                    <div class="panel panel-default">
                        <div class="panel-heading nav navbar-default">
                            <b> En gestión</b>
                        </div>

                        <div class="panel-heading nav navbar-default">
                            <!-- CAMBIO DE LA COLUMNA 10 A 13 PARA AMPLIAR LA VISTA DE LA GESTION -->
                            <div class="col-md-13 col-md-offset-1">
                                <ul class="list-group small">
                                    <!-- SE AGREGA EL NUEVO VALOR DE LA LLAVE aceptaPortafolio, observContingenciaPortafolio -->
                                    <h5>
                                        <a href="" ng-repeat="data in pedidosEngestion" class="list-group-item "><span
                                                ng-class="{'label label-success': data.acepta == 'Acepta', 'labelPortafolio label-labelPortafolioOK': data.aceptaPortafolio == 'Acepta', 'label label-danger': data.acepta == 'Rechaza', 'labelPortafolio label-labelPortafolioRCH': data.aceptaPortafolio == 'Rechaza', 'label label-warning': data.acepta == 'Pendiente' && data.aceptaPortafolio == 'Pendiente'}">
                                                {{data.pedido}}</span>
                                            <!-- <button type="button"
                                                ng-hide="data.acepta == 'Pendiente' && data.aceptaPortafolio == 'Pendiente' && data.aceptaPortafolio == 'Acepta'"
                                                class="btn btn-default btn-xs" data-placement="left"
                                                title="Observaciones (TV/Int-ToIp)"
                                                ng-click="muestraModalObservacion(data.observContingencia)">
                                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                            </button> -->

                                            <button
                                                    ng-hide="data.acepta == 'Pendiente' && data.aceptaPortafolio == 'Pendiente' && data.aceptaPortafolio == 'Acepta'"
                                                    popover-placement="left" uib-popover="{{data.observContingencia}}"
                                                    popover-title="Observaciones (TV/Int-ToIp)" type="button"
                                                    class="btn btn-default btn-xs">
                                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                            </button>

                                            <!-- <button type="button"
                                                ng-hide="data.acepta == 'Pendiente' && data.aceptaPortafolio == 'Pendiente' && data.aceptaPortafolio == 'Acepta'"
                                                class="btn btn-default btn-xs" data-placement="left"
                                                title="Observaciones (C.P)"
                                                ng-click="muestraModalObservacion(data.observContingenciaPortafolio)">
                                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                            </button> -->

                                            <button
                                                    ng-hide="data.acepta == 'Pendiente' && data.aceptaPortafolio == 'Pendiente' && data.aceptaPortafolio == 'Acepta'"
                                                    popover-placement="left"
                                                    uib-popover="{{data.observContingenciaPortafolio}}"
                                                    popover-title="Observaciones (C.P)" type="button"
                                                    class="btn btn-default btn-xs">
                                                <i class="fa fa-commenting" aria-hidden="true"></i>
                                            </button>

                                            <button type="button" ng-click="CancelarContingencia(data)"
                                                    popover-placement="left"
                                                    uib-popover="Al presionar el botón se eliminará la contingencia, siempre y cuando ésta no haya iniciado gestión por parte del personal encargado"
                                                    popover-title="Cancelar Contingencia:"
                                                    ng-hide="data.engestion == '1'" class="btn btn-default btn-xs"
                                                    ng-disabled="loading">
                                                Cancelar
                                            </button>
                                        </a>
                                    </h5>
                                </ul>
                            </div>
                        </div>
                        <div class="panel-heading">
                            <h5>
                                <span class="label label-success">OK: {{contingenciaOK}}</span>&nbsp;&nbsp;
                                <span class="label label-warning">Pendiente: {{contingenciaPend}}</span>&nbsp;&nbsp;
                                <span class="label label-danger">Rechazado: {{contingenciaNO}}</span>&nbsp;
                            </h5>
                            <h5>
                                <span class="labelPortafolioRCH label-labelPortafolioRCH">Rechazado corregir portafolio:
                                    {{contingenciaNOCP}}</span>
                            </h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="modalObservaciones" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Observaciones</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    {{observacionContingencia}}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
</div>
<br>
<br>
<br>
